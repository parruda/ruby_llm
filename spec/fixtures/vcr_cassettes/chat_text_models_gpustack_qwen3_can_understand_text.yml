---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 03 Nov 2025 13:47:22 GMT
      - Mon, 03 Nov 2025 13:47:23 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '1514'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"\n\nThe
        file `ruby.txt` contains the following text:\n\n```\nRuby is the best.\n```\n\nIt
        is a plain text file (MIME type: `text/plain`), so there are no additional
        formatting or binary data elements. The content is simply the sentence \"Ruby
        is the best.\"","reasoning_content":"\nOkay, the user is asking what''s in
        the file named ruby.txt. Let me check the information provided. The file has
        a MIME type of text/plain, which means it''s a plain text file. The content
        given is \"Ruby is the best.\" So, the file is a simple text file containing
        that sentence. I should confirm that there''s no additional content beyond
        what''s listed. Since the user provided the file details directly, there''s
        no need to look elsewhere. The answer should state that the file contains
        the text \"Ruby is the best.\" and mention the MIME type. I should keep it
        straightforward and clear.\n","role":"assistant"}}],"created":1762177645,"id":"chatcmpl-fxfRPPisIVTzwgq83O6AWEVIRr5eHsfP","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":189,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":127,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":34,"prompt_tokens_details":{"cached_tokens":0},"prompt_tokens_per_second":306.2787136294028,"time_per_output_token_ms":8.081507936507936,"time_to_first_token_ms":111.01,"tokens_per_second":123.7392832942147,"total_tokens":223}}'
  recorded_at: Mon, 03 Nov 2025 13:47:25 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"\n\nThe file `ruby.txt`
        contains the following text:\n\n```\nRuby is the best.\n```\n\nIt is a plain
        text file (MIME type: `text/plain`), so there are no additional formatting
        or binary data elements. The content is simply the sentence \"Ruby is the
        best.\""},{"role":"user","content":[{"type":"text","text":"and in this one?"},{"type":"text","text":"<file
        name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 03 Nov 2025 13:47:24 GMT
      - Mon, 03 Nov 2025 13:47:24 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '3010'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"\n\nThe
        file `ruby.xml` contains the following XML content:\n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\n### Details:\n- **MIME Type**: `application/xml`
        (indicating it''s an XML file).\n- **Structure**: It defines a single XML
        element `<truism>`, which encloses the text `\"Ruby is the best\"`.\n- **Content**:
        The text is identical to the previous file (`ruby.txt`), but now it is wrapped
        in an XML tag. This structure is commonly used to define data with hierarchical
        relationships or metadata.\n\nThis format is useful for structured data, such
        as configuration files, data exchange, or document markup.","reasoning_content":"\nOkay,
        the user is asking about the contents of another file called ruby.xml. Let
        me look at the previous interaction to understand the context. Earlier, they
        asked about ruby.txt, which had the text \"Ruby is the best.\" Now, they''re
        providing a file with XML content.\n\nFirst, I need to parse the XML structure.
        The file name is ruby.xml, and the MIME type is application/xml. The content
        inside the file is a single XML element <truism>Ruby is the best</truism>.
        \n\nI should explain that this is an XML file, so the structure is different
        from plain text. The <truism> tag encloses the text \"Ruby is the best.\"
        I should mention that XML uses tags to define elements, and in this case,
        the truism element contains the same phrase as before but formatted in XML.\n\nI
        need to make sure I clarify that the content is not just plain text but structured
        data. Also, since the user might be comparing the two files, pointing out
        the difference in structure (XML vs plain text) would be helpful. They might
        be learning about different file formats or data structures, so explaining
        the XML syntax briefly would be useful. \n\nWait, the user might not be familiar
        with XML tags. Should I explain what XML is? Probably not necessary unless
        they ask, but since they''ve already seen an example, maybe just mention the
        structure. Also, check if there are any other elements or attributes, but
        in this case, the XML is very simple with just one element. \n\nI should also
        note that the text inside the XML tag is the same as in the previous file,
        but wrapped in tags. That might be intentional to show how data is structured
        in XML. Make sure the answer is clear and concise, highlighting the XML structure
        and the content within it.\n","role":"assistant"}}],"created":1762177649,"id":"chatcmpl-vvE8CjQ0gKqhEdtegTtAR2hFZru6iwPx","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":512,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":370,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":134,"prompt_tokens_details":{"cached_tokens":32},"prompt_tokens_per_second":4288.686189790366,"time_per_output_token_ms":8.367853515625,"time_to_first_token_ms":31.245,"tokens_per_second":119.50496003936193,"total_tokens":646}}'
  recorded_at: Mon, 03 Nov 2025 13:47:29 GMT
recorded_with: VCR 6.3.1
