---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"max_tokens":4096}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20251102T203300Z
      X-Amz-Content-Sha256:
      - 32f7f5d114a1218a13305dd99bc015c42c30eb3ef10e2c93aa46389158404073
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20251102/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1a0a0d3507ff0fe04a0ff6581444ef1d5de0cadda573e56027b54cccb075bd10
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 02 Nov 2025 20:33:02 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '558'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 1c012ade-4277-4c8c-843e-6d0dbb005b42
      X-Amzn-Bedrock-Invocation-Latency:
      - '1422'
      X-Amzn-Bedrock-Output-Token-Count:
      - '63'
      X-Amzn-Bedrock-Input-Token-Count:
      - '36'
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","id":"msg_bdrk_017PAFp31ar5aVnrpf84yhbS","type":"message","role":"assistant","content":[{"type":"text","text":"Based
        on the file details you''ve provided, the text file ''ruby.txt'' contains
        the simple text:\n\n\"Ruby is the best.\"\n\nThe file is a plain text file
        (mime_type=''text/plain'') and appears to be expressing an opinion about the
        Ruby programming language."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":36,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":63}}'
  recorded_at: Sun, 02 Nov 2025 20:33:02 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":[{"type":"text","text":"Based
        on the file details you''ve provided, the text file ''ruby.txt'' contains
        the simple text:\n\n\"Ruby is the best.\"\n\nThe file is a plain text file
        (mime_type=''text/plain'') and appears to be expressing an opinion about the
        Ruby programming language."}]},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"max_tokens":4096}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20251102T203302Z
      X-Amz-Content-Sha256:
      - 67188b882d474dbc6d3c1b64a2a4cbb176c67e42e04b418a2aaae9c3526636c0
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20251102/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=79d233faae0ca5af60960fd359a2b8ed6d38e8ae770575bdcb3698b896609397
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 02 Nov 2025 20:33:04 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '664'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - f6de05e3-52f0-4b1d-a747-e47d486d682b
      X-Amzn-Bedrock-Invocation-Latency:
      - '2031'
      X-Amzn-Bedrock-Output-Token-Count:
      - '95'
      X-Amzn-Bedrock-Input-Token-Count:
      - '137'
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","id":"msg_bdrk_01DL2sL5EkTXZNRCa3NTfvya","type":"message","role":"assistant","content":[{"type":"text","text":"In
        the ''ruby.xml'' file, which is an XML document (mime_type=''application/xml''),
        the content is:\n\n```xml\n<truism>Ruby is the best</truism>\n```\n\nThis
        is a simple XML document with a custom XML tag <truism> that contains the
        text \"Ruby is the best\". The tag suggests that the statement is being presented
        as a self-evident truth or widely accepted fact."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":137,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":95}}'
  recorded_at: Sun, 02 Nov 2025 20:33:04 GMT
recorded_with: VCR 6.3.1
